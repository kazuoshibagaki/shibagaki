#freeze
#navi(PukiWiki/1.4/マニュアル/プラグイン)

**add [#vef8f18f]
:種別|
~コマンド
:重要度|
~★☆☆☆☆
:書式|
''?cmd=add''
&color(blue){&page=ページ名};
:概要|
~実行すると編集画面が表示されます。更新ボタンを押すと、指定した既存ページの末尾に編集欄で入力した内容が追加されます。
:引数|
~ページ名は省略できません。ページ名はエンコードされている必要があります。
~[[edit>../e#i1e8d3e8]]が編集画面に既存のページ内容を表示するのに対し、addは常に編集画面が空となります。不用意に既存の入力内容を変更する事がないため、単純に追記していくだけのページではaddを使うと便利です。
:備考|
~もともとデフォルトのskinでメニューの「追加」として使われていましたが、editコマンド(編集)で事足りるため、デフォルトのskinではメニューから外されています。


**amazon [#v7173e39]
:種別|
~（コマンド）
~インライン型プラグイン
~ブロック型プラグイン
:重要度|
~★☆☆☆☆
:書式|
~''&amazon(''
&color(blue){ASIN番号};
'');''
~''#amazon''
~''#amazon('',
&color(blue){clear};
'')''
~''#amazon(''
&color(blue){ASIN番号};,
[&color(blue){left};|&color(blue){right};],
[&color(blue){タイトル};|&color(blue){image};|&color(blue){delimage};|&color(blue){deltitle};|&color(blue){delete};]
'')''
:概要|
~アマゾン（http://www.amazon.co.jp）が提供する商品のイメージと、商品名を表示します。
~アマゾンのアソシエイト ID（紹介文などを書くことで副収入がもらえるかもしれない仕組み）に対応しています。 ASIN を入力するだけで、予め作成した定型作品紹介フォーマットを自動生成することができます。
:引数|
~全ての引数を省略すると、ブックレビュー作成フォームが現れます。「書評」というページにこれを置くと「書評/ASIN番号」という子ページを作ります。
~left,right,clear で商品のイメージとタイトルの出力方式を指定します。
--left|right − 表示時の位置を指定します。省略時はrightです。
--clear − テキスト回り込み指定を解除します。
:|タイトル,image で表示内容を指定します。
--タイトル − 商品のタイトルを指定します。省略時は自動取得します。
--image − 商品のイメージのみ表示します。省略時はイメージとタイトルを表示します。
:|delimage,deltitle,delete でキャッシュの削除を行います
--delimage − 対応するイメージキャッシュを削除します。
--deltitle − 対応するタイトルキャッシュを削除します。
--delete − 対応するイメージキャッシュ,タイトルキャッシュを削除します。
:プラグイン内設定|
--AMAZON_AID　amazon のアソシエイト ID(ないなら 一般ユーザ)
--AMAZON_EXPIRE_IMG　expire イメージキャッシュを何日で削除するか
--AMAZON_EXPIRE_TIT　expire タイトルキャッシュを何日で削除するか
--NO_IMAGE　画像なしの場合の画像
--AMAZON_SHOP　amazon ショップのURI
--AMAZON_XML　amazon 商品情報問合せ URI
:備考|
~著作権が関連する為、アマゾンのアソシエイトプログラムを確認の上ご利用下さい。
~イメージなしの場合に使用する画像が別途必要です。デフォルトは image/noimage.jpg を使用します。
~ASIN は書籍の場合 ISBN と全く同じです。書籍以外の場合は、アマゾンのサイトで対象を表示した際の写真のプロパティで判断します。例えば下のような場合だと、最後の 01 を含め、B000002G6J.01 とします。B000002G6J とすると、デフォルトの 09 が適用されてしまい、画像なしとなります（画像だけでなくタイトルも呼ぶのであれば 10 桁で Ok）。
 http://images-jp.amazon.com/images/P/B000002G6J.01.LZZZZZZZ.jpg


**aname [#n9f7bab5]
:種別|
~インライン型プラグイン
~ブロック型プラグイン
:重要度|
~★★★★☆
:書式|
~''&aname(''
&color(blue){アンカー名};
[,{[&color(blue){super};],
[&color(blue){full};],
[&color(blue){noid};]},
&color(blue){アンカー文字列};]
'');''
~''#aname(''
&color(blue){アンカー名};
[,{[&color(blue){super};],
[&color(blue){full};],
[&color(blue){noid};]},
&color(blue){アンカー文字列};]
'')''
:概要|
~指定した位置にアンカー(リンクの飛び先)を設定します。
:引数|
~アンカー名の値がアンカーのフラグメント指定子に使用されます。アンカー名は省略できません。アンカー名には半角英字（大文字／小文字）が使用可能です。
~super,full,noid でアンカーの出力方式を指定します。
--super − アンカー文字列を上付き表示します。省略時は上付き表示されません。
--full − フラグメント指定子以外のURIを補ってアンカーを出力します。省略時はフラグメント指定子のみ出力されます。
--noid − アンカーにフラグメント指定子を出力しません。
:|~アンカー文字列が指定された場合、指定した文字列に対してアンカーが出力されます。アンカーの存在を利用者に明示したい場合に利用します。省略時は空文字に対するアンカーとなります。
:備考|
~通常はインライン型プラグインとして使用します。2つのブロック型プラグインに挟まれた部分にアンカー設定したい場合にインラインプラグインとして記述できないため、ブロック型プラグインとしても使えるようにしてあります。
~PukiWiki本体処理でanameプラグインを内部的に呼び出しているため、必ず組み込む必要があります。


**article [#a06a7f60]
:種別|
~（コマンド）
~ブロック型プラグイン
:重要度|
~★★★☆☆
:書式|
''#article''
:概要|
~指定した位置に簡易掲示板を設置します。
:プラグイン内設定|~
--article_COLS　テキストエリアのカラム数
--article_ROWS　テキストエリアの行数
--NAME_COLS　名前テキストエリアのカラム数
--SUBJECT_COLS　題名テキストエリアのカラム数
--NAME_FORMAT　名前の挿入フォーマット
--SUBJECT_FORMAT　題名の挿入フォーマット
--ARTICLE_INS　入力内容を入力欄の前後どちらに挿入するか
--ARTICLE_COMMENT　書き込みの下に一行コメントを入れるか
--ARTICLE_AUTO_BR　改行を自動的変換するか
--MAIL_AUTO_SEND　投稿内容のメール自動配信をするか
--MAIL_FROM　投稿内容のメール送信時の送信者メールアドレス
--MAIL_SUBJECT_PREFIX　投稿内容のメール送信時の題名
--$_mailto　投稿内容のメール自動配信先アドレス


**attach [#qe43bebc]
:種別|
~（コマンド）
~ブロック型プラグイン
:重要度|
~★★★★★
:書式|
''#attach(''
[&color(blue){nolist};]
[,&color(blue){noform};]
'')''
:概要|
~ページの添付ファイルの一覧を表示し、ファイル添付のための入力フォームを設置します。
:引数|
~nolist, noform で表示内容を指定します。
--nolist − ページの添付ファイルの一覧を表示しません。省略時は一覧を表示します。
--noform − ファイル添付のための入力フォームを表示しません。省略時は入力フォームを表示します。
:プラグイン内設定|~
--MAX_FILESIZE　ファイルアップロードの上限
--ATTACH_UPLOAD_ADMIN_ONLY　管理者だけが添付ファイルをアップロードできるようにするか
--ATTACH_DELETE_ADMIN_ONLY　管理者だけが添付ファイルを削除できるようにするか
--ATTACH_DELETE_ADMIN_NOBACKUP ATTACH_DELETE_ADMIN_ONLY=TRUEのとき、管理者が添付ファイルを削除するときは、バックアップを作らない
--ATTACH_PASSWORD_REQUIRE　アップロード/削除時にパスワードを要求するか(ADMIN_ONLYが優先)
--ATTACH_FILE_MODE  アップロードされたファイルのアクセス権
--FILE_ICON　アイコンイメージのファイル
--ATTACH_CONFIG_PAGE_MIME　ダウンロード時のmime-typeを記述したページ
:備考|
~デフォルトのskinのメニューの「添付」で呼び出されているため、デフォルトのskinを使う場合には必ず組み込む必要があります。
~プラグイン内設定の MAX_FILESIZEを増やす場合は、php.iniの upload_max_filesize やApache の LimitRequestBodyなどPukiWiki以外での上限設定がある事に注意して下さい。

#navi(PukiWiki/1.4/マニュアル/プラグイン)
